# Начало работы

## Сборка

### Github Actions

Сборки сервера под Windows и Linux можно скачать с [Github Actions](https://github.com/team-ns/launcher/actions?query=workflow%3A%22Build+nslaunchserver%22)

### Вручную

Для сборки сервера вручную необходимо установить окружение для языка программирования Rust. Для этого есть специальная утилита [rustup](https://rustup.rs/).

После установки выполните команду в корневой папке репозитория:

```
cargo build --release --package nslaunchserver
```

В случае успешной сборки вы получите в папке `target/release` собранный бинарник лаунчсервера.

## Первый запуск

Во время первого запуска в папке с сервером вы получите распакованные исходники лаунчера и api совместимые с текущей версией лаунчсервера, также вы получите файл конфигурации. После этого вам выйдет ошибка о том, что авторизация не настроена.

```
[ERROR nslaunchserver::config]: Auth provider not found, check your config!
```

Для решения данной ошибки вам необходимо настроить ваш сервер.

## Конфигурация

Дефолтная конфигурация лаунчсервера выглядит вот так:

``` json
{
  "bindAddress": "127.0.0.1:8080",
  "auth": "Empty",
  "texture": {
    "skinUrl": "http://example.com/skin/{username}.png",
    "capeUrl": "http://example.com/cape/{username}.png"
  },
  "fileServer": "http://127.0.0.1:8080/files",
  "websocketUrl": "ws://127.0.0.1:8080",
  "projectName": "NSL"
}
```

Параметр `bindAddress` отвечает за адрес и порт, который будет прослушивать сервер, для того чтобы сделать его общедоступным используйте адрес `0.0.0.0`

Параметр `auth` отвечает за авторизацию пользователь. За более подробной информацией о его настройке перейдите [сюда](auth.md)

Параметр `texture` отвечает за скины и плащи пользователей в url можно использовать параметры `username` или `uuid`

Параметр `fileServer` отвечает за адрес откуда лаунчер будет скачивать файлы для запуска игры

Параметр `websocketUrl` отвечает за адрес к которому будет подключается лаунчер

Параметр `projectName` отвечает за имя проекта для которого необходим лаунчер
