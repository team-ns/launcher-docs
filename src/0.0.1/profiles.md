# Профили

## Структура файлов

На текущей версии лаунчера существует следующая структура файлов

```
├───assets
├───jre
├───libraries
├───natives
└───profiles
    └───SomeProfile
```

Папка `assets` содержит в себе ресурсы для разных версий игры

Папка `jre` содержит в себе JRE для запуска игры

Папка `libraries` содержит в себе библиотеки для запуска игры

Папка `natives` содержит в себе нативные библиотеки для запуска игры

Папка `profiles` содержит в себе папки различных клиентов игры

## Структура профиля

Файлы конфигурации профиля хранятся в папке профиля под именем profile.json на сервере

На текущей версии конфигурация профиля выглядит так:

``` json
{
    "name": "SomeProfile",
    "version": "1.12.2",
    "libraries": [],
    "classPath": [],
    "mainClass" : "",
    "jvmArgs" : [],
    "clientArgs" : [],
    "assets": "1.12.2",
    "updateVerify": [],
    "updateExclusion": [],
    "serverName": "localhost",
    "serverPort": 25565,
    "assetsDir" : "assets"
}
```

Параметр `name` должен содержать имя профиля

Параметр `version` должен содержать версию игры

Параметр `libraries` должен содержать пути библиотек хранящиеся в папке libraries необходимые для запуска игры

Параметр `classPath`  должен содержать пути библиотек хранящиеся в папке профиля необходимые для запуска игры

Параметр `mainClass` должен содержать класс для запуска игры (через /, а не точки)

Параметр `jvmArgs` должен содержать аргументы для JVM

Параметр `clientArgs` должен содержать аргументы для игры

Параметр `assets` должен содержать версию ресурсов игры

Параметр `updateVerify` должен содержать пути до папок и файлов, изменение которых необходимо отслеживать

Параметр `updateExclusion` должен содержать пути до папок и файлов, которые должны быть проигнорированы

Параметр `serverName` должен содержать ip сервера для автоподключения

Параметр `serverPort` должен содержать порт сервера для автоподключения

Параметр `assetsDir` должен содержать в себе папку в которой хранятся ресурсы игры

::: tip
Также в папке с профилем на сервере можно добавить файл description.txt с описанием профиля, который может использоваться рантаймом лаунчера
:::

## Генерация профилей

Создать профиль для лаунчера можно автоматический с помощью утилиты [profile-generator](https://github.com/team-ns/profile-generator)

Для генерации профиля определенной версии необходимо запустить эту утилиту со следующими аргументами:

Ванильный клиент:

```
profile-generator --version <версия игры> --name <имя профиля> --address <адрес сервера> --port <порт сервера>
```

Forge клиент:

```
profile-generator --version <версия игры> --name <имя профиля> --address <адрес сервера> --port <порт сервера> --forge <версия forge>
```

Fabric клиент:

```
profile-generator --version <версия игры> --name <имя профиля> --address <адрес сервера> --port <порт сервера> --fabric <версия fabric>
```

В созданном профиле необходимо воспользоваться [патчером авторизации](authlib.md)